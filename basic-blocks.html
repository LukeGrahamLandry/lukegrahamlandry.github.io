<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Modding Tutorial </title>

    <link rel="shortcut icon" href="/img/logo.png">
    <link rel="stylesheet" href="/styles/tutorial.css">
    <link rel="stylesheet" href="/styles/md.css">
    <link rel="stylesheet" id="theme" href="">
    <link rel="stylesheet" href="/code.css">
</head>
<body>
    <div class="hide-for-print" style="max-width: 800px; width: 100%; text-align: left; display: inline-block;">
        <a href="/" style="font-size: 2rem;">Home</a> 
        <label class="switch" style="float: right;">
            <input type="checkbox" id="dark" onclick="updateDarkmode()">
            <span class="slider round"></span>
        </label>
    </div> <br> <br>

    
    <div id="content" class="markdown-body">
        <p>In this tutorial we will register a simple block with a texture and a loot table. It will be a similar process to basic items.</p>
<h2>Concepts</h2>
<p>Blocks are very similar to items. They must be registered so the game knows about them. Each type block is an instance of the <code class="highlight"><span></span><span class="n">Block</span>
</pre></code> class (not each physical block in the world). Basic traits of your block can be set with a properties object but more complex behaviour will require your own class that extends <code class="highlight"><span></span><span class="n">Block</span>
</pre></code>. </p>
<h2>New Block</h2>
<p>In your init package make a new class called BlockInit. The code here is mostly the same as in ItemInit. Just make sure to say Block instead of Item everywhere. The string you pass the register function is the block's registry name which will be used for naming asset files later.</p>
<pre><code class="highlight"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BlockInit</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">DeferredRegister</span><span class="o">&lt;</span><span class="n">Block</span><span class="o">&gt;</span> <span class="n">BLOCKS</span> <span class="o">=</span> <span class="n">DeferredRegister</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">ForgeRegistries</span><span class="p">.</span><span class="na">BLOCKS</span><span class="p">,</span> <span class="n">FirstModMain</span><span class="p">.</span><span class="na">MOD_ID</span><span class="p">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">RegistryObject</span><span class="o">&lt;</span><span class="n">Block</span><span class="o">&gt;</span> <span class="n">SMILE_BLOCK</span> <span class="o">=</span> <span class="n">BLOCKS</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="s">&quot;smile_block&quot;</span><span class="p">,</span>
            <span class="p">()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">Block</span><span class="p">());</span>
<span class="p">}</span>
</pre></code></pre>
<p>The Block constructer in the supplier takes a Block.Properties object made by calling the <code class="highlight"><span></span><span class="n">Block</span><span class="p">.</span><span class="na">Properties</span><span class="p">.</span><span class="na">of</span>
</pre></code>  method. This takes a Material which sets a few characteristics about your block like whether its flammable, how it reacts to pistons, default sounds, whether it blocks player motion, and what tools can mine it by default. Vanilla has many options to chose from, just let your IDE autocomplete from <code class="highlight"><span></span><span class="n">Material</span>
</pre></code>.</p>
<p>Then your <code class="highlight"><span></span><span class="n">Properties</span>
</pre></code> object has many other methods you can call to set different traits, just like we did with items. <code class="highlight"><span></span><span class="n">strength</span>
</pre></code> lets you pass in how long it takes to break and how resistant to explosions it is. <code class="highlight"><span></span><span class="n">harvestLevel</span>
</pre></code> sets what level of tool you need to mine it (0 is wood, 4 is netherite) and <code class="highlight"><span></span><span class="n">harvestTool</span>
</pre></code> lets you set what type of tool you need. You have to call <code class="highlight"><span></span><span class="n">requiresCorrectToolForDrops</span>
</pre></code> if it should be like stone and drop nothing without the tool.  If you want it to be a light source you can use lightLevel with a lambda expression that maps a blockstate to a value from 1 to 16. There are many more like <code class="highlight"><span></span><span class="n">friction</span>
</pre></code> (used by ice), <code class="highlight"><span></span><span class="n">speedFactor</span>
</pre></code> (used by soul sand) and <code class="highlight"><span></span><span class="n">jumpFactor</span>
</pre></code> (used by honey). So that supplier might looks something like this:</p>
<pre><code class="highlight"><span></span><span class="p">()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">Block</span><span class="p">(</span><span class="n">Block</span><span class="p">.</span><span class="na">Properties</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Material</span><span class="p">.</span><span class="na">STONE</span><span class="p">).</span><span class="na">strength</span><span class="p">(</span><span class="mf">4f</span><span class="p">,</span> <span class="mi">1200</span><span class="n">f</span><span class="p">).</span><span class="na">harvestLevel</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="na">harvestTool</span><span class="p">(</span><span class="n">ToolType</span><span class="p">.</span><span class="na">PICKAXE</span><span class="p">).</span><span class="na">requiresCorrectToolForDrops</span><span class="p">().</span><span class="na">lightLevel</span><span class="p">((</span><span class="n">state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">15</span><span class="p">))</span>
</pre></code></pre>
<p>You can also use <code class="highlight"><span></span><span class="n">AbstractBlock</span><span class="p">.</span><span class="na">Properties</span><span class="p">.</span><span class="na">copy</span><span class="p">(</span><span class="n">ANOTHER_BLOCK</span><span class="p">)</span>
</pre></code> to avoid writing things out repeatedly. All vanilla blocks can be accessed with <code class="highlight"><span></span><span class="n">Blocks</span><span class="p">.</span><span class="na">INSERT_NAME_HERE</span>
</pre></code> so you can copy properties from one of them if you feel like it. Or avoid redundancy by referencing <code class="highlight"><span></span><span class="n">YOUR_BLOCK</span><span class="p">.</span><span class="na">get</span><span class="p">()</span>
</pre></code></p>
<h2>Block Item</h2>
<p>You need a BlockItem to place your block. You can register it manually but that's tedious so lets make it automatic. At the top of your class add this line to allow it to subscribe to events.</p>
<pre><code class="highlight"><span></span><span class="nd">@Mod.EventBusSubscriber</span><span class="p">(</span><span class="n">bus</span> <span class="o">=</span> <span class="n">Mod</span><span class="p">.</span><span class="na">EventBusSubscriber</span><span class="p">.</span><span class="na">Bus</span><span class="p">.</span><span class="na">MOD</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BlockInit</span> <span class="p">{</span>
    <span class="c1">// ...previous code here...</span>
<span class="p">}</span>
</pre></code></pre>
<p>Then make a static function with the SubscribeEvent annotation. Its argument will be the Item RegistryEvent so it fires when items are supposed to be registered.</p>
<p>In that function get the Item registry and loop through all the blocks. For each block, we make an Item.Properties that puts it in our creative tab. Then we make a BlockItem with those properties to place our block. We register the BlockItem with the same registry name as the block.</p>
<pre><code class="highlight"><span></span><span class="nd">@SubscribeEvent</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">onRegisterItems</span><span class="p">(</span><span class="kd">final</span> <span class="n">RegistryEvent</span><span class="p">.</span><span class="na">Register</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">final</span> <span class="n">IForgeRegistry</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span> <span class="n">registry</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="na">getRegistry</span><span class="p">();</span>

    <span class="n">BLOCKS</span><span class="p">.</span><span class="na">getEntries</span><span class="p">().</span><span class="na">stream</span><span class="p">().</span><span class="na">map</span><span class="p">(</span><span class="n">RegistryObject</span><span class="p">::</span><span class="n">get</span><span class="p">).</span><span class="na">forEach</span><span class="p">(</span> <span class="p">(</span><span class="n">block</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">{</span>
        <span class="kd">final</span> <span class="n">Item</span><span class="p">.</span><span class="na">Properties</span> <span class="n">properties</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Item</span><span class="p">.</span><span class="na">Properties</span><span class="p">().</span><span class="na">tab</span><span class="p">(</span><span class="n">ItemInit</span><span class="p">.</span><span class="na">ModCreativeTab</span><span class="p">.</span><span class="na">instance</span><span class="p">);</span>
        <span class="kd">final</span> <span class="n">BlockItem</span> <span class="n">blockItem</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BlockItem</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">properties</span><span class="p">);</span>
        <span class="n">blockItem</span><span class="p">.</span><span class="na">setRegistryName</span><span class="p">(</span><span class="n">block</span><span class="p">.</span><span class="na">getRegistryName</span><span class="p">());</span>
        <span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">blockItem</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span>
</pre></code></pre>
<p>Instead of doing it this way you could manually register a BlockItem for each of your blocks in your ItemInit class but that's really tedious so I'd advise doing it this way. There might be some blocks you make later where you'll what a unique block item. All you'd have to do is add an if statement to check for that block and create the new BlockItem differently. </p>
<h2>Main Class</h2>
<p>In the constructor of your main class add this line to call the register method of your DeferredRegister (same as for items).</p>
<pre><code class="highlight"><span></span><span class="n">BlockInit</span><span class="p">.</span><span class="na">BLOCKS</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">modEventBus</span><span class="p">);</span>
</pre></code></pre>
<h2>Assets</h2>
<p>In your project folder go to <code class="highlight"><span></span><span class="n">src</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">resources</span><span class="o">/</span><span class="n">assets</span><span class="o">/</span><span class="n">mod</span> <span class="n">id</span>
</pre></code>. Make a new folder called blockstates and in your models folder make a new folder called block. In textures make a new folder called blocks and put the png image you want to use for your block's texture. Then go out to <code class="highlight"><span></span><span class="n">src</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">resources</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">mod</span> <span class="n">id</span>
</pre></code> and make a folder called loot_tables and in that make a folder called blocks.</p>
<p>In blockstates make a file called block_name.json (replace block_name with whatever string you passed in as your registry name). Since this is a simple block, we just need one varient that points to a model. Make sure you change firstmod to your mod id and smile_block to the registry name of your block.</p>
<pre><code class="highlight"><span></span><span class="p">{</span>
    <span class="s">&quot;variants&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">&quot;model&quot;</span><span class="p">:</span> <span class="s">&quot;firstmod:block/smile_block&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></code></pre>
<p>This is the simplest possible blockstate definition. More complex blocks can have different sides (like grass), rotation (like furnaces and chests), age (like crops or ice) and you can define your own custom properties. The possibilities are endless and will likely be discussed more in depth in another tutorial. </p>
<p>In models/block make a file called block_name.json. This is the file you'd change if you want different sides of the block to look different (like a grass block) but since I don't, I'll just point to one texture (make sure to change smile_block to the name of your image file).</p>
<pre><code class="highlight"><span></span><span class="p">{</span>
    <span class="s">&quot;parent&quot;</span><span class="p">:</span> <span class="s">&quot;block/cube_all&quot;</span><span class="p">,</span>
    <span class="s">&quot;textures&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;all&quot;</span><span class="p">:</span> <span class="s">&quot;firstmod:blocks/smile_block&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></code></pre>
<p>In models/item make a block_name.json file that just parents off your block model</p>
<pre><code class="highlight"><span></span><span class="p">{</span>
    <span class="s">&quot;parent&quot;</span><span class="p">:</span> <span class="s">&quot;firstmod:block/smile_block&quot;</span>
<span class="p">}</span>
</pre></code></pre>
<p>In lang/en_us.json add a line that gives your block a name. Remember to change the mod id and block registry name.</p>
<pre><code class="highlight"><span></span>    <span class="s">&quot;block.firstmod.smile_block&quot;</span><span class="p">:</span> <span class="s">&quot;Smiley Block&quot;</span>
</pre></code></pre>
<p>In loot_tables/blocks make block_name.json. This sets what drops when you break the block. This is a simple loot table that just drops the block's item but it could be anything.</p>
<pre><code class="highlight"><span></span><span class="p">{</span>
    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;minecraft:block&quot;</span><span class="p">,</span>
    <span class="s">&quot;pools&quot;</span><span class="p">:</span> <span class="o">[</span>
    <span class="p">{</span>
        <span class="s">&quot;rolls&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="s">&quot;entries&quot;</span><span class="p">:</span> <span class="o">[</span>
        <span class="p">{</span>
            <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;minecraft:item&quot;</span><span class="p">,</span>
            <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;firstmod:smile_block&quot;</span>
        <span class="p">}</span>
        <span class="o">]</span>
    <span class="p">}</span>
    <span class="o">]</span>
<span class="p">}</span>
</pre></code></pre>
<p>Loot tables are also how drops from entities are determined and what you find in chests. They deserve a tutorial of their own but in the mean time, take a look at <a href="https://github.com/InventivetalentDev/minecraft-assets/tree/1.16.5/data/minecraft/loot_tables/blocks">vanilla's loot tables</a> and <a href="https://minecraft.fandom.com/wiki/Loot_table">the wiki</a> for inspiration.</p>
<p>You should end up with a file structure like this:</p>
<pre><code class="highlight"><span></span><span class="o">-</span> <span class="n">src</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">resources</span><span class="o">/</span>
    <span class="o">-</span> <span class="n">assets</span><span class="o">/</span><span class="n">modid</span><span class="o">/</span>
        <span class="o">-</span> <span class="n">blockstates</span><span class="o">/</span>  
            <span class="o">-</span> <span class="n">block_name</span><span class="p">.</span><span class="na">json</span>  
        <span class="o">-</span> <span class="n">models</span><span class="o">/</span><span class="n">block</span><span class="o">/</span>  
            <span class="o">-</span> <span class="n">block_name</span><span class="p">.</span><span class="na">json</span>  
        <span class="o">-</span> <span class="n">textures</span><span class="o">/</span><span class="n">blocks</span><span class="o">/</span>
            <span class="o">-</span> <span class="n">block_name</span><span class="p">.</span><span class="na">png</span>  
    <span class="o">-</span> <span class="n">data</span><span class="o">/</span><span class="n">modid</span><span class="o">/</span>  
        <span class="o">-</span> <span class="n">loot_tables</span><span class="o">/</span><span class="n">blocks</span>  
            <span class="o">-</span> <span class="n">block_name</span><span class="p">.</span><span class="na">json</span>
</pre></code></pre>
<h2>Run the game</h2>
<p>If we run the game, we can see that the block shows up in our creative tab. We can place it and break it with an iron pickaxe</p> 
    </div>
    

    <div class="hide-for-print">
        <br>
        <div style="width: 100%; max-width: 800px; display: inline-block;" class="hide-for-print">
            <button class="btn btn-primary" style="width: 19%;" onclick="back()" id="back">Back</button>
            <button class="btn btn-primary" style="width: 80%;" onclick="next()" id="next">Next Tutorial</button> <br> <br>
        </div>
        <br><br>

        <!--

        If you have any questions or suggestions, don't hesitate to ask me on [discord](https://discord.gg/VbZVnRd).

        Also, the full code for all my tutorials is available on [github](https://github.com/LukeGrahamLandry/forge-modding-tutorial/tree/1.16.5).

         -->

        <a href="https://github.com/LukeGrahamLandry/forge-modding-tutorial/tree/1.16.5" class="img-link">
            <div class="app">
                <img src="./img/github.png" style="width: 70px">
            </div>
        </a>

        <a href="https://discord.gg/VbZVnRd" class="img-link">
            <div class="app">
                <img src="./img/discord.png" style="width: 70px">
            </div>
        </a>

        <!--
        <a href="https://www.youtube.com/playlist?list=PLxBLp3RqmUMEU5vrtMY6tgfP2lnJD0OUj" class="img-link">
            <div class="app">
                <img src="img/youtube.png" style="width: 70px">
            </div>
        </a>
        -->

        <a href="https://www.patreon.com/LukeGrahamLandry" class="img-link">
            <div class="app">
                <img src="./img/patreon.png" style="width: 70px">
            </div>
        </a>
    </div>

    <script src="/js/dark.js"></script>
    <script src="/index.js"></script>
    <script>
        let thisPage = window.location.pathname.split("/")[1].split(".")[0]
        let index = getTutorials().indexOf(thisPage);
        if (index == 0){
            document.getElementById("back").disabled = true;
            console.log("back")
        }
        if (index == (getTutorials().length - 1)){
            document.getElementById("next").disabled = true;
            console.log("next")
        }

        function back(){
            window.location.href = "/" + getTutorials()[index - 1]
        }

        function next(){
            window.location.href = "/" + getTutorials()[index + 1]
        }
    </script>
</body>
</html>