<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Modding Tutorial </title>

    <link rel="shortcut icon" href="./img/logo.png">
    <link rel="stylesheet" href="./styles/tutorial.css">
    <link rel="stylesheet" href="./styles/md.css">
    <link rel="stylesheet" id="theme" href="./styles/tutorial-darkmode.css">
</head>
<body>
    <div class="hide-for-print" style="max-width: 800px; width: 100%; text-align: left; display: inline-block;">
        <a href="/" style="font-size: 2rem;">Home</a> 
        <label class="switch" style="float: right;">
            <input type="checkbox" id="dark" onclick="updateDarkmode()">
            <span class="slider round"></span>
        </label>
    </div> <br> <br>

    
    <div id="content" class="markdown-body">
        <p>How to setup a forge development environment for 1.16.5 with the official mappings. We download java 8, forge and IntelliJ. We also rename our main package and class and update the mods.toml file.</p>
<h2>Downloading</h2>
<p>First, download the JDK (java 8 development kit). Go to <a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">oracle</a> and select your operating system. It will ask you to make an account but you can borrow someone else's credentials from <a href="http://bugmenot.com/view/oracle.com">bugmenot</a>. Just copy paste them in and if the first doesn't work, try the next one.</p>
<p>Next you need the Forge 1.16.5 MDK (mod development kit) from <a href="https://files.minecraftforge.net/net/minecraftforge/forge/index_1.16.5.html">minecraftforge</a>. Get the recommended version cause its the most likely to work.
<img alt="" src="/img/download-forge.png" />
When you click the button to download the MDK it will send you to a page with ads. Very important not to click any of them (even if they look like pop ups from your OS), just wait a few seconds until the skip button appears in the top right and click that to download.</p>
<p>Then you need an IDE to write your code. Download intellij from <a href="https://www.jetbrains.com/idea/download">jetbrains</a> and get the community addition because it's free.</p>
<h2>Installing</h2>
<p>Double click the JDK download to open it. Just go though the installer and agree to everything. It will probably need an administrator password and take a long time to install.</p>
<p>Then unzip the forge MDK and rename the folder to the name of your mod. You can remove the license, readme and credits files.</p>
<p>Finally, launch intellijj. The first screen should let you choose some settings. You probably want dark theme but for everything else the defaults are fine. Then you want to click 'open a project'. Select the forge folder you just renamed and give it a while to do the indexing (there should be a little loading bar at the bottom of the screen).</p>
<h2>Setup</h2>
<p>In the project explorer on the left open <code>src/main/java</code> and right click <code>com.example.examplemod</code> Choose refactor &gt; rename and call it <code>tld.nameorwebsite.modid</code> (so I did ca.lukegrahamlandry.firstmod). Make sure there's no spaces or capital letters. Open ExampleMod.java and right click the name of the class to rename it to ModNameMain . This is your mod's main class. Some of these functions can be removed but it's fine if you leave them.</p>
<p>Make a public static string that holds your mod id. This is how the forge mod loader will recognize your mod. It's generally based on your mod's name, unique and all lowercase with no special characters. You will use this often, don't forget it. It is also very important to change the value in the @Mod annotation at the top of the class to reference your mod id. I took out some of the unnecessary methods from this base class just to clean it up a bit. Here's what it looks like now:</p>
<pre><code>// imports up here //

@Mod(FirstModMain.MOD_ID)
public class FirstModMain {
    public static final Logger LOGGER = LogManager.getLogger();
    public static String MOD_ID = "firstmod";

    public FirstModMain() {
        final IEventBus modEventBus = FMLJavaModLoadingContext.get().getModEventBus();

        modEventBus.addListener(this::setup);

        // Register ourselves for server and other game events we are interested in
        MinecraftForge.EVENT_BUS.register(this);
    }

    private void setup(final FMLCommonSetupEvent event) {}
}
</code></pre>
<p>Open <code>src/main/resources/META-INF/mods.toml</code> It has a bunch of key value pairs that mostly set the information shown on the mods list in game. The only one you have to change is the modId (to whatever you had in your main class). You must keep the modLoader and loaderVersion the same but the fields lower down like display name can be whatever you want, they'll be displayed in the mods list ingame. You should also choose a license (I like the MIT license personally). </p>
<pre><code>modLoader="javafml"
loaderVersion="[36,)"

license="MIT"

[[mods]]

modId="firstmod"


# ... more fields down here
</code></pre>
<p>The <code>build.gradle</code> file tells it what dependancies to download (like Minecraft and Forge). Set the group to whatever you named your package (and click the elephant icon in intellij to update these settings).</p>
<pre><code>group = 'ca.lukegrahamlandry.firstmod'
</code></pre>
<p>Close intellij, open the terminal, navigate to your mod folder and run the command below (on windows use CMD and you don't need the ./ prefix). It will take a while to run.</p>
<pre><code>cd /path/to/mod/folder
./gradlew genIntellijRuns
</code></pre>
<h2>Run the game</h2>
<p>You can open intellij again and run the game by clicking the little green play button in the top right. If you have any problems with that you can also run it with the command below.</p>
<pre><code>./gradlew runClient
</code></pre>
<h2>Info Files</h2>
<p>In the top level of your mod folder you'll find a few extra files about forge. I suggest taking out <code>changelog.txt</code> and <code>credits.txt</code>. You should replace <code>license.txt</code> with a license that has information about how people are allowed to use your code (learn more about license options at <a href="https://choosealicense.com/">choosealicense.com</a>). Finally replace <code>readme.txt</code> with <code>README.md</code> so you can use <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">markdown</a> and GitHub will render it properly. This file should contain information about your mod's features, supported versions and perhaps a link to your CurseForge page once you're ready to release your mod. </p>
<h2>Alternative Setup</h2>
<p><strong>If you are just starting to learn modding and followed the instructions above, this section does not apply to you. Skip ahead to the next tutorial :)</strong></p>
<p>If you already have a 1.16 mod that you would like to follow these tutorials with, you should make sure you're using the same Minecraft and mappings version. Open your <code>build.gradle</code>. </p>
<p>In the <code>dependencies</code> block I have <code>minecraft 'net.minecraftforge:forge:1.16.5-36.1.0'</code>. The important part is that you're on 1.16.5, the forge version matters less. </p>
<p>In the <code>minecraft</code> block I have <code>mappings channel: 'official', version: '1.16.5'</code>. Your mappings are what determine the names of the methods from vanilla Minecraft that you have to interact with. Â If you change your mappings you should be able to automatically update your existing code. Run the <code>./gradlew -PUPDATE_MAPPINGS="1.16.5" -PUPDATE_MAPPINGS_CHANNEL="official" updateMappings</code> command in your main mod folder (same as above, windows uses CMD instead of terminal and does not have the <code>./</code> prefix). </p>
<p>Now you should be ready to follow along with the rest of my tutorials!</p> 
    </div>
    

    <div class="hide-for-print">

        <!--

        If you have any questions or suggestions, don't hesitate to ask me on [discord](https://discord.gg/VbZVnRd).

        Also, the full code for all my tutorials is available on [github](https://github.com/LukeGrahamLandry/forge-modding-tutorial/tree/1.16.5).

         -->

        <a href="https://github.com/LukeGrahamLandry/forge-modding-tutorial/tree/1.16.5">
            <div class="app">
                <img src="./img/github.png" style="width: 70px">
            </div>
        </a>

        <a href="https://discord.gg/VbZVnRd">
            <div class="app">
                <img src="./img/discord.png" style="width: 70px">
            </div>
        </a>

        <!--
        <a href="https://www.youtube.com/playlist?list=PLxBLp3RqmUMEU5vrtMY6tgfP2lnJD0OUj">
            <div class="app">
                <img src="img/youtube.png" style="width: 70px">
            </div>
        </a>
        -->

        <a href="https://www.patreon.com/LukeGrahamLandry">
            <div class="app">
                <img src="./img/patreon.png" style="width: 70px">
            </div>
        </a>
    </div>


    <script>
        function setCookie(cname,cvalue,exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays*24*60*60*1000));
            var expires = "expires=" + d.toGMTString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }
        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return null;
        }
        function delCookie(cname){
            setCookie(cname, "", -1);
        }

        function updateDarkmode(){
            let dark = document.getElementById("dark").checked;
            let sheet;
            if (dark){
                sheet = "./styles/tutorial-darkmode.css";
            } else {
                sheet = "";
            }
            document.getElementById("theme").href = sheet;
            setCookie("darkmode", sheet, 365);
        }

        // set darkmode from cookie
        if (!getCookie("darkmode")) {
            document.getElementById("dark").checked = false;
            updateDarkmode();
        }
    </script>
</body>
</html>