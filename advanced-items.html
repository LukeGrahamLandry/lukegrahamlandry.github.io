<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Modding Tutorial </title>

    <link rel="shortcut icon" href="/img/logo.png">
    <link rel="stylesheet" href="/styles/tutorial.css">
    <link rel="stylesheet" href="/styles/md.css">
    <link rel="stylesheet" id="theme" href="">
    <link rel="stylesheet" href="/code.css">
</head>
<body>
    <div class="hide-for-print" style="max-width: 800px; width: 100%; text-align: left; display: inline-block;">
        <a href="/" style="font-size: 2rem;">Home</a> 
        <label class="switch" style="float: right;">
            <input type="checkbox" id="dark" onclick="updateDarkmode()">
            <span class="slider round"></span>
        </label>
    </div> <br> <br>

    
    <div id="content" class="markdown-body">
        <p>A tutorial on making items with unique custom behaviours. We will make a food that gives a potion effect, a furnace fuel and an item that teleports you forward when right clicked.</p>
<h2>Food</h2>
<p>In your ItemInit class copy the code for a basic item and change the names.</p>
<pre><code class="highlight"><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">RegistryObject</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span> <span class="n">FRUIT</span> <span class="o">=</span> <span class="n">ITEMS</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="s">&quot;fruit&quot;</span><span class="p">,</span>
            <span class="p">()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">Item</span><span class="p">(</span><span class="k">new</span> <span class="n">Item</span><span class="p">.</span><span class="na">Properties</span><span class="p">().</span><span class="na">tab</span><span class="p">(</span><span class="n">ModCreativeTab</span><span class="p">.</span><span class="na">instance</span><span class="p">)));</span>
</pre></code></pre>
<p>Then on the Item.Properties, call the food function. This takes in a Food created with a Food.Builder. The Food.Builder has a variety of functions that let you set different properties of the food. For example, nutrition lets you set how much hunger it restores. When you're done call build to create the Food object.</p>
<pre><code class="highlight"><span></span><span class="k">new</span> <span class="n">Item</span><span class="p">.</span><span class="na">Properties</span><span class="p">().</span><span class="na">tab</span><span class="p">(</span><span class="n">ModCreativeTab</span><span class="p">.</span><span class="na">instance</span><span class="p">)</span>
                    <span class="p">.</span><span class="na">food</span><span class="p">(</span><span class="k">new</span> <span class="n">Food</span><span class="p">.</span><span class="na">Builder</span><span class="p">().</span><span class="na">nutrition</span><span class="p">(</span><span class="mi">4</span><span class="p">).</span><span class="na">saturationMod</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
</pre></code></pre>
<p>To make your food grant a potion effect when eaten, call the effect function of your Food.Builder (before you call build). This takes a supplier for an EffectInstance which takes the effect you want to give, the duration (in ticks so 20 is one second), and the amplifier (0 is level I). The effect method also takes the likelihood your effect will be applied (1.0F is always and 0F is never). So this code will have a 50% chance to give fire resistance I for 10 seconds.</p>
<pre><code class="highlight"><span></span><span class="p">.</span><span class="na">effect</span><span class="p">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">EffectInstance</span><span class="p">(</span><span class="n">Effects</span><span class="p">.</span><span class="na">FIRE_RESISTANCE</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mf">0.5F</span><span class="p">)</span>
</pre></code></pre>
<h2>Fuel</h2>
<p>Again, start by copying the basic item code and change the names. This time change the supplier from an Item to a new class you will create soon.</p>
<pre><code class="highlight"><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">RegistryObject</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span> <span class="n">FUEL</span> <span class="o">=</span> <span class="n">ITEMS</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="s">&quot;fuel&quot;</span><span class="p">,</span>
            <span class="p">()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">FuelItem</span><span class="p">(</span><span class="k">new</span> <span class="n">Item</span><span class="p">.</span><span class="na">Properties</span><span class="p">().</span><span class="na">tab</span><span class="p">(</span><span class="n">ModCreativeTab</span><span class="p">.</span><span class="na">instance</span><span class="p">)));</span>
</pre></code></pre>
<p>Make a new package called items and create the FuelItem class you referenced when making the item. It should extend Item and have a constructor that takes both an Item.Properties to pass on to the super constructor and an int to use as burn time. Don't forget to make a field to save that burn time.</p>
<pre><code class="highlight"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FuelItem</span> <span class="kd">extends</span> <span class="n">Item</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">burnTicks</span><span class="p">;</span>
    <span class="kd">public</span> <span class="nf">FuelItem</span><span class="p">(</span><span class="n">Properties</span> <span class="n">properties</span><span class="p">,</span> <span class="kt">int</span> <span class="n">burnTimeInTicks</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">super</span><span class="p">(</span><span class="n">properties</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">burnTicks</span> <span class="o">=</span> <span class="n">burnTimeInTicks</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></code></pre>
<p>Then override the getBurnTime method. This takes the itemStack being used as fuel and returns the burn time in ticks. It will return the int we saved from the constructor. </p>
<pre><code class="highlight"><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getBurnTime</span><span class="p">(</span><span class="n">ItemStack</span> <span class="n">itemStack</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="na">burnTicks</span><span class="p">;</span>
<span class="p">}</span>
</pre></code></pre>
<p>Now go back to ItemInit, import this class and update the constructor when you create your fuel item to include the burn time. Items generally take 200 ticks to smelt so 3200 should cook 16 items (twice as much as coal).</p>
<pre><code class="highlight"><span></span><span class="k">new</span> <span class="n">FuelItem</span><span class="p">(</span><span class="o">&lt;</span><span class="p">...</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">3200</span><span class="p">)</span>
</pre></code></pre>
<h2>Right click behaviour</h2>
<p>Start the same way as for a fuel. In ItemInit, copy paste basic item, rename and change the class. Make a new class in your items package that extends item and uses the default constructer.</p>
<pre><code class="highlight"><span></span><span class="c1">// ItemInit.java</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">RegistryObject</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span> <span class="n">TELEPORT_STAFF</span> <span class="o">=</span> <span class="n">ITEMS</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="s">&quot;teleport_staff&quot;</span><span class="p">,</span>
            <span class="p">()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">TeleportStaff</span><span class="p">(</span><span class="k">new</span> <span class="n">Item</span><span class="p">.</span><span class="na">Properties</span><span class="p">().</span><span class="na">tab</span><span class="p">(</span><span class="n">ModCreativeTab</span><span class="p">.</span><span class="na">instance</span><span class="p">)));</span>

<span class="c1">// items/TeleportStaff.java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TeleportStaff</span> <span class="kd">extends</span> <span class="n">Item</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="nf">TeleportStaff</span><span class="p">(</span><span class="n">Properties</span> <span class="n">properties</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">super</span><span class="p">(</span><span class="n">properties</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></code></pre>
<p>To do something when it's right clicked, override use. It takes in the world which lets you effect blocks and stuff, the player that used it and whether it was main or offhand.</p>
<pre><code class="highlight"><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">ActionResult</span><span class="o">&lt;</span><span class="n">ItemStack</span><span class="o">&gt;</span> <span class="nf">use</span><span class="p">(</span><span class="n">World</span> <span class="n">world</span><span class="p">,</span> <span class="n">PlayerEntity</span> <span class="n">player</span><span class="p">,</span> <span class="n">Hand</span> <span class="n">hand</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kd">super</span><span class="p">.</span><span class="na">use</span><span class="p">(</span><span class="n">world</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">hand</span><span class="p">);</span>
<span class="p">}</span>
</pre></code></pre>
<p>So in that method we can use a function built into the item class to do a raycast in the direction the player is looking and save the first thing it hits in a variable. Then we can set the player's position to that position. That will teleport the player forward.</p>
<pre><code class="highlight"><span></span><span class="n">BlockRayTraceResult</span> <span class="n">ray</span> <span class="o">=</span> <span class="n">getPlayerPOVHitResult</span><span class="p">(</span><span class="n">world</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">RayTraceContext</span><span class="p">.</span><span class="na">FluidMode</span><span class="p">.</span><span class="na">NONE</span><span class="p">);</span>
<span class="n">BlockPos</span> <span class="n">lookPos</span> <span class="o">=</span> <span class="n">ray</span><span class="p">.</span><span class="na">getBlockPos</span><span class="p">();</span>
<span class="n">player</span><span class="p">.</span><span class="na">setPos</span><span class="p">(</span><span class="n">lookPos</span><span class="p">.</span><span class="na">getX</span><span class="p">(),</span> <span class="n">lookPos</span><span class="p">.</span><span class="na">getY</span><span class="p">(),</span> <span class="n">lookPos</span><span class="p">.</span><span class="na">getZ</span><span class="p">());</span>
</pre></code></pre>
<p>If you tried it now you'd notice that when you try to teleport straight down it you get your feet stuck in the block. This is because we told it to literally set your feet to the same place as the block. We can update the line creating lookPos to offset the position based on the direction you're looking at the block.</p>
<pre><code class="highlight"><span></span><span class="n">BlockPos</span> <span class="n">lookPos</span> <span class="o">=</span> <span class="n">ray</span><span class="p">.</span><span class="na">getBlockPos</span><span class="p">().</span><span class="na">relative</span><span class="p">(</span><span class="n">ray</span><span class="p">.</span><span class="na">getDirection</span><span class="p">());</span>
</pre></code></pre>
<p>Currently the range of the teleport is just the players mining range. To fix that, we can make our own version of this getPlayerPOVHitResult method. If you command click (MacOS Intellij, idk what it is for windows) on the method you can jump to its declaration in the Item class. Its a bunch of confusing math but we can just copy it into our class and try to figure it out. </p>
<p>You can see its getting the position of the player's eyes, then calculating the direction you're looking and multiplying that by this a float called d0. So if you change that, you change the length of the vector and thus the range. If there's no block close in front of you, you'll just teleport the full distance. Let's just name our new function something different so we can be sure we aren't messing up any other behaviours. Don't forget to switch the use method to be using our new rayTrace.</p>
<pre><code class="highlight"><span></span><span class="kd">protected</span> <span class="kd">static</span> <span class="n">BlockRayTraceResult</span> <span class="nf">rayTrace</span><span class="p">(</span><span class="n">World</span> <span class="n">world</span><span class="p">,</span> <span class="n">PlayerEntity</span> <span class="n">player</span><span class="p">,</span> <span class="n">RayTraceContext</span><span class="p">.</span><span class="na">FluidMode</span> <span class="n">fluidMode</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">double</span> <span class="n">range</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>

        <span class="kt">float</span> <span class="n">f</span> <span class="o">=</span> <span class="n">player</span><span class="p">.</span><span class="na">xRot</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">f1</span> <span class="o">=</span> <span class="n">player</span><span class="p">.</span><span class="na">yRot</span><span class="p">;</span>
        <span class="n">Vector3d</span> <span class="n">vector3d</span> <span class="o">=</span> <span class="n">player</span><span class="p">.</span><span class="na">getEyePosition</span><span class="p">(</span><span class="mf">1.0F</span><span class="p">);</span>
        <span class="kt">float</span> <span class="n">f2</span> <span class="o">=</span> <span class="n">MathHelper</span><span class="p">.</span><span class="na">cos</span><span class="p">(</span><span class="o">-</span><span class="n">f1</span> <span class="o">*</span> <span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="n">F</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="p">);</span>
        <span class="kt">float</span> <span class="n">f3</span> <span class="o">=</span> <span class="n">MathHelper</span><span class="p">.</span><span class="na">sin</span><span class="p">(</span><span class="o">-</span><span class="n">f1</span> <span class="o">*</span> <span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="n">F</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="p">);</span>
        <span class="kt">float</span> <span class="n">f4</span> <span class="o">=</span> <span class="o">-</span><span class="n">MathHelper</span><span class="p">.</span><span class="na">cos</span><span class="p">(</span><span class="o">-</span><span class="n">f</span> <span class="o">*</span> <span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="n">F</span><span class="p">));</span>
        <span class="kt">float</span> <span class="n">f5</span> <span class="o">=</span> <span class="n">MathHelper</span><span class="p">.</span><span class="na">sin</span><span class="p">(</span><span class="o">-</span><span class="n">f</span> <span class="o">*</span> <span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="n">F</span><span class="p">));</span>
        <span class="kt">float</span> <span class="n">f6</span> <span class="o">=</span> <span class="n">f3</span> <span class="o">*</span> <span class="n">f4</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">f7</span> <span class="o">=</span> <span class="n">f2</span> <span class="o">*</span> <span class="n">f4</span><span class="p">;</span>
        <span class="n">Vector3d</span> <span class="n">vector3d1</span> <span class="o">=</span> <span class="n">vector3d</span><span class="p">.</span><span class="na">add</span><span class="p">((</span><span class="kt">double</span><span class="p">)</span><span class="n">f6</span> <span class="o">*</span> <span class="n">range</span><span class="p">,</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">f5</span> <span class="o">*</span> <span class="n">range</span><span class="p">,</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">f7</span> <span class="o">*</span> <span class="n">range</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">world</span><span class="p">.</span><span class="na">clip</span><span class="p">(</span><span class="k">new</span> <span class="n">RayTraceContext</span><span class="p">(</span><span class="n">vector3d</span><span class="p">,</span> <span class="n">vector3d1</span><span class="p">,</span> <span class="n">RayTraceContext</span><span class="p">.</span><span class="na">BlockMode</span><span class="p">.</span><span class="na">OUTLINE</span><span class="p">,</span> <span class="n">fluidMode</span><span class="p">,</span> <span class="n">player</span><span class="p">));</span>
    <span class="p">}</span>
</pre></code></pre>
<p>If you want to limit how often the item can be used you can add a cool down. The second argument is the time they have to wait before using it again in ticks (1/20 of a second). You can also make teleporting reset how far you've fallen so you can use the item to escape fall damage.</p>
<pre><code class="highlight"><span></span><span class="n">player</span><span class="p">.</span><span class="na">getCooldowns</span><span class="p">().</span><span class="na">addCooldown</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>

<span class="n">playerIn</span><span class="p">.</span><span class="na">fallDistance</span> <span class="o">=</span> <span class="mf">0F</span><span class="p">;</span>
</pre></code></pre>
<p>You can also play a sound. This will play the enderman's teleport sound that the player's position. The last two arguments are volume and pitch. </p>
<pre><code class="highlight"><span></span><span class="n">world</span><span class="p">.</span><span class="na">playSound</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">player</span><span class="p">.</span><span class="na">getX</span><span class="p">(),</span> <span class="n">player</span><span class="p">.</span><span class="na">getY</span><span class="p">(),</span> <span class="n">player</span><span class="p">.</span><span class="na">getZ</span><span class="p">(),</span> <span class="n">SoundEvents</span><span class="p">.</span><span class="na">ENDERMAN_TELEPORT</span><span class="p">,</span> <span class="n">SoundCategory</span><span class="p">.</span><span class="na">PLAYERS</span><span class="p">,</span> <span class="mf">1.0F</span><span class="p">,</span> <span class="mf">1.0F</span><span class="p">);</span>
</pre></code></pre>
<p>If we want to give the players some help understanding our mod, we can add a tool tip when they hover over the item in their inventory. So override appendHoverText and add to the tooltip. The StringTextComponent class is just a string that Minecraft can render.</p>
<pre><code class="highlight"><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">appendHoverText</span><span class="p">(</span><span class="n">ItemStack</span> <span class="n">stack</span><span class="p">,</span> <span class="nd">@Nullable</span> <span class="n">World</span> <span class="n">worldIn</span><span class="p">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ITextComponent</span><span class="o">&gt;</span> <span class="n">tooltip</span><span class="p">,</span> <span class="n">ITooltipFlag</span> <span class="n">flagIn</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">tooltip</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">StringTextComponent</span><span class="p">(</span><span class="s">&quot;teleports you where you&#39;re looking&quot;</span><span class="p">));</span>

    <span class="kd">super</span><span class="p">.</span><span class="na">appendHoverText</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="n">worldIn</span><span class="p">,</span> <span class="n">tooltip</span><span class="p">,</span> <span class="n">flagIn</span><span class="p">);</span>
<span class="p">}</span>
</pre></code></pre>
<p>If you want less clutter for the player, you can only show this when they're holding shift. So make a new package called util and a class called KeyboardHelper. Everything here will be static, we can get the game window so we can get user input. Then make some functions to check if they're holding shift, space, or control respectively. For shift and control we are checking both the left and right one. Don't forget to import all these classes. </p>
<pre><code class="highlight"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">KeyboardHelper</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">WINDOW</span> <span class="o">=</span> <span class="n">Minecraft</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">getWindow</span><span class="p">().</span><span class="na">getWindow</span><span class="p">();</span>

    <span class="nd">@OnlyIn</span><span class="p">(</span><span class="n">Dist</span><span class="p">.</span><span class="na">CLIENT</span><span class="p">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isHoldingShift</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">InputMappings</span><span class="p">.</span><span class="na">isKeyDown</span><span class="p">(</span><span class="n">WINDOW</span><span class="p">,</span> <span class="n">GLFW</span><span class="p">.</span><span class="na">GLFW_KEY_LEFT_SHIFT</span><span class="p">)</span> <span class="o">||</span> <span class="n">InputMappings</span><span class="p">.</span><span class="na">isKeyDown</span><span class="p">(</span><span class="n">WINDOW</span><span class="p">,</span> <span class="n">GLFW</span><span class="p">.</span><span class="na">GLFW_KEY_RIGHT_SHIFT</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@OnlyIn</span><span class="p">(</span><span class="n">Dist</span><span class="p">.</span><span class="na">CLIENT</span><span class="p">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isHoldingControl</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">InputMappings</span><span class="p">.</span><span class="na">isKeyDown</span><span class="p">(</span><span class="n">WINDOW</span><span class="p">,</span> <span class="n">GLFW</span><span class="p">.</span><span class="na">GLFW_KEY_LEFT_CONTROL</span><span class="p">)</span> <span class="o">||</span> <span class="n">InputMappings</span><span class="p">.</span><span class="na">isKeyDown</span><span class="p">(</span><span class="n">WINDOW</span><span class="p">,</span> <span class="n">GLFW</span><span class="p">.</span><span class="na">GLFW_KEY_RIGHT_CONTROL</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@OnlyIn</span><span class="p">(</span><span class="n">Dist</span><span class="p">.</span><span class="na">CLIENT</span><span class="p">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isHoldingSpace</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">InputMappings</span><span class="p">.</span><span class="na">isKeyDown</span><span class="p">(</span><span class="n">WINDOW</span><span class="p">,</span> <span class="n">GLFW</span><span class="p">.</span><span class="na">GLFW_KEY_SPACE</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></code></pre>
<p>Then you can change your appendHoverText method to check if the player is holding shift.</p>
<pre><code class="highlight"><span></span><span class="k">if</span> <span class="p">(</span><span class="n">KeyboardHelper</span><span class="p">.</span><span class="na">isHoldingShift</span><span class="p">()){</span>
    <span class="n">tooltip</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">StringTextComponent</span><span class="p">(</span><span class="s">&quot;teleports you where you&#39;re looking&quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></code></pre>
<p>If you want it to use durability you can get the item stack being used, increase how damaged it is (because its stored as how much damage has been taken not how much durability remains). Note that setting the damage doesn't make it break when it hits 0. So we have to check if its zero and if so make the stack empty.</p>
<pre><code class="highlight"><span></span><span class="n">ItemStack</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">player</span><span class="p">.</span><span class="na">getItemInHand</span><span class="p">(</span><span class="n">hand</span><span class="p">);</span>
<span class="n">stack</span><span class="p">.</span><span class="na">setDamageValue</span><span class="p">(</span><span class="n">stack</span><span class="p">.</span><span class="na">getDamageValue</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">stack</span><span class="p">.</span><span class="na">getDamageValue</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">stack</span><span class="p">.</span><span class="na">getMaxDamage</span><span class="p">())</span> <span class="n">stack</span><span class="p">.</span><span class="na">setCount</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</pre></code></pre>
<p>Then you can go back to ItemInit. Dont forget to import your special item class. If you did the durability thing you have to set the durability to something in the Item.Properties. Giving it durability automatically makes the max stack size one (normally set by the stacksTo method on the properties builder).</p>
<pre><code class="highlight"><span></span><span class="k">new</span> <span class="n">Item</span><span class="p">.</span><span class="na">Properties</span><span class="p">().</span><span class="na">tab</span><span class="p">(</span><span class="n">ModCreativeTab</span><span class="p">.</span><span class="na">instance</span><span class="p">).</span><span class="na">durability</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></code></pre>
<h2>Other Methods</h2>
<p>The <code class="highlight"><span></span><span class="n">Item</span>
</pre></code> class has many other methods you can override for interesting behaviour. Here's just a few of them</p>
<ul>
<li><code class="highlight"><span></span><span class="n">useOn</span>
</pre></code>: called when right clicked targeting a block</li>
<li><code class="highlight"><span></span><span class="n">interactLivingEntity</span>
</pre></code>: called when right clicked targeting an entity</li>
<li><code class="highlight"><span></span><span class="n">hurtEnemy</span>
</pre></code>: called when the player hits an entity while holding the item</li>
<li><code class="highlight"><span></span><span class="n">onCraftedBy</span>
</pre></code>: called when taken out of a crafting slot. </li>
<li><code class="highlight"><span></span><span class="n">inventoryTick</span>
</pre></code>: called once every tick (20 times per second) while it is in someone's inventory. </li>
<li><code class="highlight"><span></span><span class="n">isValidRepairItem</span>
</pre></code>: can the second item be used to repair the first item in an anvil</li>
</ul>
<h2>Assets</h2>
<p>You can setup the textures, models and lang file exactly the same as for basic items. Just remember to change the names of the file and any time you use the name of the item.</p>
<h2>Run the game</h2>
<p>If you run the game the items show up in the creative tab and have textures. You can eat the food and sometimes get fire resistance. My fuel coal can be used in a furnace and smelts 16 items. Finally the staff will teleport you and lose durability.</p>
<h2>Extension</h2>
<ul>
<li>
<p>Make an item that replaces any block you right click with dirt</p>
<ul>
<li>hint: <code class="highlight"><span></span><span class="n">world</span><span class="p">.</span><span class="na">setBlock</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">Blocks</span><span class="p">.</span><span class="na">VANILLA_NAME</span><span class="p">.</span><span class="na">defaultBlockState</span><span class="p">());</span>
</pre></code></li>
</ul>
</li>
<li>
<p>Make an item that gives poison to any entity you right click</p>
<ul>
<li>hint: <code class="highlight"><span></span><span class="n">entity</span><span class="p">.</span><span class="na">addEffect</span><span class="p">(</span><span class="k">new</span> <span class="n">EffectInstance</span><span class="p">(</span><span class="n">Effects</span><span class="p">.</span><span class="na">VANILLA_NAME</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">amplifier</span><span class="p">));</span>
</pre></code></li>
</ul>
</li>
<li>
<p>Make an item that propels the player in the direction they're looking</p>
<ul>
<li>hint: <code class="highlight"><span></span><span class="n">player</span><span class="p">.</span><span class="na">setDeltaMovement</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>
</pre></code></li>
</ul>
</li>
<li>
<p>Make an item that places a torch automatically while in the inventory of a player in darkness</p>
<ul>
<li>hint: <code class="highlight"><span></span><span class="n">Math</span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">world</span><span class="p">.</span><span class="na">getBrightness</span><span class="p">(</span><span class="n">LightType</span><span class="p">.</span><span class="na">BLOCK</span><span class="p">,</span> <span class="n">pos</span><span class="p">),</span> <span class="n">world</span><span class="p">.</span><span class="na">getBrightness</span><span class="p">(</span><span class="n">LightType</span><span class="p">.</span><span class="na">SKY</span><span class="p">,</span> <span class="n">pos</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">7</span>
</pre></code></li>
</ul>
</li>
</ul> 
    </div>
    

    <div class="hide-for-print">

        <!--

        If you have any questions or suggestions, don't hesitate to ask me on [discord](https://discord.gg/VbZVnRd).

        Also, the full code for all my tutorials is available on [github](https://github.com/LukeGrahamLandry/forge-modding-tutorial/tree/1.16.5).

         -->

        <a href="https://github.com/LukeGrahamLandry/forge-modding-tutorial/tree/1.16.5" class="img-link">
            <div class="app">
                <img src="./img/github.png" style="width: 70px">
            </div>
        </a>

        <a href="https://discord.gg/VbZVnRd" class="img-link">
            <div class="app">
                <img src="./img/discord.png" style="width: 70px">
            </div>
        </a>

        <!--
        <a href="https://www.youtube.com/playlist?list=PLxBLp3RqmUMEU5vrtMY6tgfP2lnJD0OUj" class="img-link">
            <div class="app">
                <img src="img/youtube.png" style="width: 70px">
            </div>
        </a>
        -->

        <a href="https://www.patreon.com/LukeGrahamLandry" class="img-link">
            <div class="app">
                <img src="./img/patreon.png" style="width: 70px">
            </div>
        </a>
    </div>

    <script src="/js/dark.js"></script>
</body>
</html>